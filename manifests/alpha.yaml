apiVersion: apps/v1
kind: Deployment
metadata:
  name: nestle-hipster-deployment
  namespace: alpha
  labels:
    app: nestle-hipster
spec:
  revisionHistoryLimit: 1
  replicas: 2
  selector:
    matchLabels:
      app: nestle-hipster
  template:
    metadata:
      labels:
        app: nestle-hipster
    spec:
      imagePullSecrets:
        - name: regcred
      containers:
        - name: nestle-hipster
          image: ownid.common.repositories.cloud.sap/server:latest
          ports:
            - containerPort: 5002
          env:
            - name: OWNID__WEB_APP_URL
              value: https://sign.ownid.com
            - name: OWNID__CALLBACK_URL
              value: https://nestle-hipster.ownid.com
            - name: OWNID__DID
              value: did:nestle:staging_822386385
            - name: OWNID__NAME
              value: Hipster
            - name: OWNID__DESCRIPTION
              value: Hipster
            - name: OWNID__ICON
              value: data:image/png;base64,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
            - name: OWNID__CACHE_TYPE
              value: redis
            - name: OWNID__CACHE_CONFIG
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: redis_config
            - name: OWNID__PUB_KEY
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: nestle_pub_key
            - name: OWNID__PRIVATE_KEY
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: nestle_private_key
            - name: GIGYA__DATA_CENTER
              value: us1.gigya.com
            - name: GIGYA__SECRET
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: nestle_gigya_secret
            - name: GIGYA__API_KEY
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: nestle_gigya_api_key
            - name: GIGYA__USER_KEY
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: nestle_gigya_user_key
            - name: ELASTICCONFIGURATION__ENABLED
              value: 'true'
            - name: ELASTICCONFIGURATION__URI
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_uri
            - name: ELASTICCONFIGURATION__USERNAME
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_username
            - name: ELASTICCONFIGURATION__PASSWORD
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_password
            - name: ASPNETCORE_ENVIRONMENT
              value: alpha
---
apiVersion: v1
kind: Service
metadata:
  name: nestle-hipster-service
  namespace: alpha
spec:
  type: NodePort
  selector:
    app: nestle-hipster
  ports:
    - name: http
      port: 80
      targetPort: 5002
    - name: https
      port: 443
      targetPort: 5002
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: nestle-hipster-ingress
  namespace: alpha
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-east-2:571861302935:certificate/c1f30bae-9a41-446b-8bf7-fc5f232d0e8f
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'
    alb.ingress.kubernetes.io/actions.ssl-redirect: '{"Type": "redirect", "RedirectConfig": { "Protocol": "HTTPS", "Port": "443", "StatusCode": "HTTP_301"}}'
  labels:
    app: nestle-hipster
spec:
  rules:
    - http:
        paths:
          - path: /*
            backend:
              serviceName: ssl-redirect
              servicePort: use-annotation
          - path: /*
            backend:
              serviceName: nestle-hipster-service
              servicePort: 80
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: bayer-deployment
  namespace: alpha
  labels:
    app: bayer
spec:
  revisionHistoryLimit: 1
  replicas: 2
  selector:
    matchLabels:
      app: bayer
  template:
    metadata:
      labels:
        app: bayer
    spec:
      imagePullSecrets:
        - name: regcred
      containers:
        - name: bayer
          image: ownid.common.repositories.cloud.sap/server:latest
          ports:
            - containerPort: 5002
          env:
            - name: OWNID__WEB_APP_URL
              value: https://sign.ownid.com
            - name: OWNID__CALLBACK_URL
              value: https://bayer.ownid.com
            - name: OWNID__DID
              value: did:bayer:alpha_822386385
            - name: OWNID__NAME
              value: Bayer
            - name: OWNID__DESCRIPTION
              value: Bayer
            - name: OWNID__ICON
              value: data:image/png;base64,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
            - name: OWNID__CACHE_TYPE
              value: redis
            - name: OWNID__CACHE_CONFIG
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: redis_config
            - name: OWNID__PUB_KEY
              valueFrom:
                secretKeyRef:
                  name: bayer-secrets
                  key: bayer_pub_key
            - name: OWNID__PRIVATE_KEY
              valueFrom:
                secretKeyRef:
                  name: bayer-secrets
                  key: bayer_private_key
            - name: GIGYA__DATA_CENTER
              value: eu1.gigya.com
            - name: GIGYA__SECRET
              valueFrom:
                secretKeyRef:
                  name: bayer-secrets
                  key: bayer_gigya_secret
            - name: GIGYA__API_KEY
              valueFrom:
                secretKeyRef:
                  name: bayer-secrets
                  key: bayer_gigya_api_key
            - name: GIGYA__USER_KEY
              valueFrom:
                secretKeyRef:
                  name: bayer-secrets
                  key: bayer_gigya_user_key
            - name: ELASTICCONFIGURATION__ENABLED
              value: 'true'
            - name: ELASTICCONFIGURATION__URI
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_uri
            - name: ELASTICCONFIGURATION__USERNAME
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_username
            - name: ELASTICCONFIGURATION__PASSWORD
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: elastic_password
            - name: ASPNETCORE_ENVIRONMENT
              value: alpha
---
apiVersion: v1
kind: Service
metadata:
  name: bayer-service
  namespace: alpha
spec:
  type: NodePort
  selector:
    app: bayer
  ports:
    - name: http
      port: 80
      targetPort: 5002
    - name: https
      port: 443
      targetPort: 5002
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: bayer-ingress
  namespace: alpha
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-east-2:571861302935:certificate/c1f30bae-9a41-446b-8bf7-fc5f232d0e8f
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'
    alb.ingress.kubernetes.io/actions.ssl-redirect: '{"Type": "redirect", "RedirectConfig": { "Protocol": "HTTPS", "Port": "443", "StatusCode": "HTTP_301"}}'
  labels:
    app: bayer
spec:
  rules:
    - http:
        paths:
          - path: /*
            backend:
              serviceName: ssl-redirect
              servicePort: use-annotation
          - path: /*
            backend:
              serviceName: bayer-service
              servicePort: 80
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: universalid-deployment
  namespace: alpha
  labels:
    app: universalid
spec:
  revisionHistoryLimit: 1
  replicas: 2
  selector:
    matchLabels:
      app: universalid
  template:
    metadata:
      labels:
        app: universalid
    spec:
      imagePullSecrets:
        - name: regcred
      containers:
        - name: universalid
          image: ownid.common.repositories.cloud.sap/server:latest
          ports:
            - containerPort: 5002
          env:
            - name: OWNID__WEB_APP_URL
              value: https://sign.ownid.com
            - name: OWNID__CALLBACK_URL
              value: https://universalid.ownid.com
            - name: OWNID__DID
              value: did:universalid:demo_123123123
            - name: OWNID__NAME
              value: Universal ID
            - name: OWNID__DESCRIPTION
              value: Universal ID
            - name: OWNID__ICON
              value: data:image/x-icon;base64,AAABAAIAICAAAAEAIACoEAAAJgAAABAQAAABACAAaAQAAM4QAAAoAAAAIAAAAEAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AK5iMP+tYS//rmIw/65hMP+uYTD/rWEv/65iMP+uYjD/rmEv/65iMP+uYjD/rmEw/65iMP+uYjD/rmEv/65iMP+uYTDPrWEvEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8Ar2Mx/69jMf+vYzD/rmIw/69jMf+uYjD/rmIw/65iMP+vYzD/r2Mw/69jMf+uYjD/r2Mw/65jMP+uYjD/rmIw/69jMf+vYzDPr2QvEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCwZS//sGUv/7BlL/+/f2X/v39k/7BlL/+wZS7/sGUv/7BlL/+wZS//sGUv/7BlL/+xZi//sWYv/7BlL/+wZS7/sGUv/7BlL/+wZS/PsWYuEK1hLzCuYTAQ////AP///wD///8A////AP///wD///8A////AP///wD///8A////AMWJb//t1tH///////////////////////Li3/////////////Li3/+yZy3/smgu/7JoLv/Omob//////////////////////9Ojkv+zaC3Ps2kuEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8Ay5R6/////////////////////////////////////////////////+jMw//ozMP/6MzD//jv7f//////////////////////1aWS/7RqLP+0ay3PtWwsEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wC2biz/9OXg/9eok//FiGX/yY9w///////////////////////////////////////////////////////////////////////Wp5L/t24s/7duLP+4cCzPuHAsEP///wD///8A////AP///wD///8A////AP///wD///8A////ALpzLP+6cyz/unMs/8SFWf/cs5//////////////////////////////////69HF//Tl4P////////////Tl4P//////////////////////+fDu/+G8q//DglLPu3UrEP///wD///8A////AP///wD///8A////AP///wD///8Avnkp/8qQZf/w29L///////////////////////Xm4f/15uH////////////EhEz/5se4////////////26+U//////////////////////////////////nx7v/CgEHPwHsqEP///wD///8A////AP///wD///8A////AP///wDOlWX////////////////////////////t1MX/zJBZ/9qrif///////////92xlP////////////Xn4P/Plmb////////////t1cb/3rOV//Xn4P///////////9mqif/CfibPxIAlEP///wD///8A////AP///wD///8A////AOvOuv////////////ny7v/kvqL/zI9N/8aEJ//GhCb/zI5M////////////////////////////472h/9KaZ////////////9+2lv/Ggyb/1qFz////////////4LaX/8aEJv/HhCjPyIYoEP///wD///8A////AP///wD///8A7NC8////////////5sGk/9KZWv/YpXP/6Mev/9CVTf/KiiX/8NnJ///////////////////////QlEz/1qBo////////////6Miv/9agaP/v2Mj////////////jupj/yool/8uKJv/LiyfPzI0lEP///wD///8A////AP///wDgs4H/////////////////////////////////7tO9/9CRJf/fsoH/////////////////9OPW/9CSJv/apmj/////////////////////////////////+vPv/9WcTf/QkiX/0JIm/9CSJv/RkyXP0pUmEP///wD///8A////ANaZIv/pxJv/+/Tv///////////////////////x2L//1Zki/9ieO//79O/////////////mvo7/1poj/96sav////////////////////////////bm1//frWr/1pki/9WZIv/WmiL/1poi/9aaIv/XmiTP2JwiEP///wD///8A26Ef/9uhH//boR//47Rr/+O0a//js2r/26Ef/9uhH//coR//26Ef/9uhH//boR//3KEg/9uhH//boR//26Ef/9yhH//coR//26Ef/9uhH//boR//3KEf/9uhH//boR//3KEf/9uhH//coSD/26Ef/9uhH//coiLP3qQgEP///wDhqSD/4akg/+GpH//hqSD/4akg/+GoH//hqSD/4akg/+GpIP/hqR//4akg/+GpIP/hqB//4akg/+GpIP/gqB//4akg/+GpIP/hqSD/4akf/+GpIP/hqSD/4akg/+GpIP/hqSD/4Kgf/+GpIP/hqB//4akg/+GpIP/hqSLP46wgEOeyJf/nsiX/57Il/+exJP/nsiX/57Il/+exJP/nsiX/5rEk/+eyJf/nsiX/5rEk/+axJP/nsST/5rEk/+axJP/msST/5rEk/+eyJf/msST/57Ek/+exJP/nsiX/57Ek/+axJP/nsST/5rEk/+exJP/nsiX/57Ek/+axJP/osiTP////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP//////////////////////////////////////////AAA//wAAH/8AAAP/AAAH/wAAA/8AAAH/AAAA/wAAAH8AAAA/AAAAHwAAAA8AAAAHAAAAAwAAAAEAAAAAAAAAAP//////////////////////////////////////////KAAAABAAAAAgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCuYi7/rmIu/65iLv+uYi7/rmIu/65iLv+uYi7/rmIu/65iLs+tYS5Q////AP///wD///8AAAAAAAAAAAAAAAAAzp98/+HFsP/hxbD/2LKW/9iylv+xZi3/u3lH/9iylv/Yspb/vX5Nz69jLTAAAAAAAAAAAAAAAAAAAAAAAAAAAOTIrv/y5Nb/9u3k/////////////////////////////////8iRXf+2bSfPt28kEAAAAAAAAAAAAAAAAAAAAADDhjv/5cqs//v28f////////////Pm1f//////////////////////+/bx/9q1hs++eR4QAAAAAAAAAAAAAAAA9OfV///////x4Mj/16ln/+3Yuv/79/H//////+3Yuv//////3rmD//jw5P/w38f/xYEhz8eFJhAAAAAAAAAAAPnx5P/8+PL/8uHK/+/avP/guHf////////////dsWr///////Xp1///////8Ny7/82NJv/NjibP0ZMkEAAAAADgsEn/8tyr//box//t0I//2qMu/+3Qj//nw3P/3ak8/+3Qj//t0I//7dCP/92qO//YnSD/2J0g/9idH8/coh8Q46wh/+OsIf/jrCH/46wh/+OsIf/jrCH/46wh/+OsIf/jrCH/46wh/+OsIf/jrCH/46wh/+OsIf/jrCH/5K0hz////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD//wAA//8AAP//AAD//wAAAD8AAAAfAAAADwAAAAcAAAADAAAAAQAAAAAAAAAAAAD//wAA//8AAP//AAD//wAA
            - name: OWNID__CACHE_TYPE
              value: redis
            - name: OWNID__CACHE_CONFIG
              valueFrom:
                secretKeyRef:
                  name: credential-secrets
                  key: redis_config
            - name: OWNID__PUB_KEY
              valueFrom:
                secretKeyRef:
                  name: universalid-secrets
                  key: universalid_pub_key
            - name: OWNID__PRIVATE_KEY
              valueFrom:
                secretKeyRef:
                  name: universalid-secrets
                  key: universalid_private_key
            - name: GIGYA__DATA_CENTER
              value: eu1.gigya.com
            - name: GIGYA__SECRET
              valueFrom:
                secretKeyRef:
                  name: universalid-secrets
                  key: universalid_gigya_secret
            - name: GIGYA__API_KEY
              valueFrom:
                secretKeyRef:
                  name: universalid-secrets
                  key: universalid_gigya_api_key
            - name: GIGYA__USER_KEY
              valueFrom:
                secretKeyRef:
                  name: universalid-secrets
                  key: universalid_gigya_user_key
            - name: GIGYA__LOGIN_TYPE 
              value: session
            - name: ASPNETCORE_ENVIRONMENT
              value: alpha
---
apiVersion: v1
kind: Service
metadata:
  name: universalid-service
  namespace: alpha
spec:
  type: NodePort
  selector:
    app: universalid
  ports:
    - name: http
      port: 80
      targetPort: 5002
    - name: https
      port: 443
      targetPort: 5002
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: universalid-ingress
  namespace: alpha
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-east-2:571861302935:certificate/c1f30bae-9a41-446b-8bf7-fc5f232d0e8f
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'
    alb.ingress.kubernetes.io/actions.ssl-redirect: '{"Type": "redirect", "RedirectConfig": { "Protocol": "HTTPS", "Port": "443", "StatusCode": "HTTP_301"}}'
  labels:
    app: universalid
spec:
  rules:
   - http:
        paths:
          - path: /*
            backend:
              serviceName: ssl-redirect
              servicePort: use-annotation
          - path: /*
            backend:
              serviceName: universalid-service
              servicePort: 80
